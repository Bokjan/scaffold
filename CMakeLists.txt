CMAKE_MINIMUM_REQUIRED(VERSION 2.8)
PROJECT(scaffold)

SET(CMAKE_CXX_STANDARD 14)

SET(CMAKE_CXX_FLAGS "-Wall")

ADD_DEFINITIONS(-DDEBUG)
INCLUDE_DIRECTORIES(Dependency)

SET(SOURCE_FILES
	Dependency/mongoose/mongoose.c
)

ADD_LIBRARY(scaffold_static STATIC ${SOURCE_FILES})
ADD_LIBRARY(scaffold_shared SHARED ${SOURCE_FILES})
SET_TARGET_PROPERTIES(scaffold_static PROPERTIES OUTPUT_NAME "scaffold")
SET_TARGET_PROPERTIES(scaffold_shared PROPERTIES OUTPUT_NAME "scaffold")
SET_TARGET_PROPERTIES(scaffold_shared PROPERTIES CLEAN_DIRECT_OUTPUT 1)

INSTALL(TARGETS scaffold_static scaffold_shared
		ARCHIVE DESTINATION lib
		LIBRARY DESTINATION lib)
INSTALL(DIRECTORY Header/ DESTINATION include/scaffold)
